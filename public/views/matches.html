<button ng-click="tbaGrabMatches()" class="btn btn-primary">Grab Matches from TBA</button>
<br><br>
<div ng-show='filters.matches.key' class="btn alert alert-info alert-dismissible" role="alert">
  <button class="close" data-dismiss="alert" aria-label="Close" ng-click='sort(undefined,"matches")'>
    <span class='glyphicon glyphicon-remove-circle' aria-hidden="true"></span>
  </button>
  <strong>{{"Filtering by "+ filters.matches.key}}<span ng-show='filters.matches.reverse'>, Decending</span></strong>
</div>
<table class='table table-bordered table-striped table-hover'>
  <thead>
    <tr>
      <th>
        Links
        <button class="btn btn-xs btn-primary" ng-click='sort("match","matches")'><span class=" glyphicon glyphicon-sort" aria-hidden="true"></span></button>
      </th>
      <th>
        Match Time
        <button class="btn btn-xs btn-primary" ng-click='sort("time","matches")'><span class=" glyphicon glyphicon-sort" aria-hidden="true"></span></button>
      </th>
      <th class="btn-primary">Blue Alliance</th>
      <th class="btn-danger">Red Alliance</th>
      <th ng-repeat="g in curGame.calc" class="btn-primary">
        {{g.name}}
        <button class="btn btn-xs btn-danger" ng-click='sort("Blue.calc[\""+g.name+"\"]","matches")'><span class=" glyphicon glyphicon-sort" aria-hidden="true"></span></button>
      </th>
      <th ng-repeat="g in curGame.calc" class="btn-danger">
        {{g.name}}
        <button class="btn btn-xs btn-primary" ng-click='sort("Red.calc[\""+g.name+"\"]","matches")'><span class=" glyphicon glyphicon-sort" aria-hidden="true"></span></button>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr data-ng-repeat='x in matches | orderBy:filters.matches.key:!filters.matches.reverse'>
      <td>
        <a href='#/game/{{curGame.name}}/match/{{x.match}}'>{{x.match}}</a>
      </td>
      <td>{{(x.time | date:'EEEE, h:mm') || "n/a"}}</td>
      <td>
        <a ng-repeat="y in x.subs |filter:{side:'Blue'}" href='#/game/{{curGame.name}}/team/{{y.team}}'>{{y.team}}   </a>
      </td>
      <td>
	       <a ng-repeat="y in x.subs |filter:{side:'Red'}" href='#/game/{{curGame.name}}/team/{{y.team}}'>{{y.team}}    </a>
      </td>
      <td ng-repeat="g in curGame.calc">
        <b>{{x.Blue.calc[g.name] = blueCalc(x,g)}}</b>&nbsp;&nbsp;&nbsp;(<span ng-repeat="y in x.subs |filter:{side:'Blue'}" >{{getValue(y.elements,g.elements) || 0}}, </span>)
      </td>
      <td ng-repeat="g in curGame.calc">
        <b>{{x.Red.calc[g.name] = redCalc(x,g)}}</b>&nbsp;&nbsp;&nbsp;(<span ng-repeat="y in x.subs |filter:{side:'Red'}" >{{getValue(y.elements,g.elements) || 0}}, </span>)
      </td>
    </tr>
  </tbody>
</table>
